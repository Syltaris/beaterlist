(this.webpackJsonpbeaterlist=this.webpackJsonpbeaterlist||[]).push([[0],{102:function(e,t,n){},194:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(22),s=n.n(r),o=(n(102),n(15)),c=n(31),l=n(238),u=n(18),d=n(36),h=n(14),p=n(27),f=n(28),g=n(20),b=n.n(g),v=n(16),j=["cover","name","songAuthor","levelAuthor","duration","difficulties","downloads","plays","upvotes","downvotes","rating","uploadDate","key","hash","description"],y=new(function(){function e(){Object(p.a)(this,e),this._playlistsHorizontalMode=!1,this._playlistColumnsToShow=void 0,this._showBeatSaverBrowser=!1,Object(v.d)(this),this._playlistsHorizontalMode=b.a.get("playlistHorizontalMode")||!1,this._playlistColumnsToShow=b.a.get("playlistColumnsToShow")||function(){var e={};return j.forEach((function(t){return e[t]=!1})),e.cover=!0,e.name=!0,e}(),this._showBeatSaverBrowser=b.a.get("showBeatSaverBrowser")||!1}return Object(f.a)(e,[{key:"playlistHorizontalMode",get:function(){return this._playlistsHorizontalMode},set:function(e){this._playlistsHorizontalMode=e,b.a.set("playlistHorizontalMode",this._playlistsHorizontalMode)}},{key:"playlistColumnsToShow",get:function(){return this._playlistColumnsToShow},set:function(e){this._playlistColumnsToShow=e,b.a.set("playlistColumnsToShow",this._playlistColumnsToShow)}},{key:"showBeatSaverBrowser",get:function(){return this._showBeatSaverBrowser},set:function(e){this._showBeatSaverBrowser=e,this._showBeatSaverBrowser=b.a.set("showBeatSaverBrowser",this._showBeatSaverBrowser)}},{key:"setPlaylistColumnToShow",value:function(e,t){this._playlistColumnsToShow[e]=t,b.a.set("playlistColumnsToShow",this._playlistColumnsToShow)}},{key:"getPlaylistColumnNamesToShow",value:function(){var e=Object.entries(this._playlistColumnsToShow).filter((function(e){var t=Object(h.a)(e,2);t[0];return t[1]})).map((function(e){var t=Object(h.a)(e,2),n=t[0];t[1];return n}));return 0===e.length?Object.keys(this._playlistColumnsToShow):e}}]),e}()),x=Object(a.createContext)(y),O=n(9),m=n.n(O),w=n(13),S=n(12),k=n.n(S),C=n(241),_=n(197),P=n(71),I=n(242),B=n(199),H=n(220),A=n(201),T=n(221),L=n(222),D=n(223),E=n(224),R=n(225),z=n(226),N=n(200),G=n(62),J=n(3);var K,Y=Object(o.b)((function(e){var t=e.playlist,n=Object(a.useState)(!1),i=Object(h.a)(n,2),r=i[0],s=i[1],o=Object(a.useState)(!1),c=Object(h.a)(o,2),u=c[0],p=c[1],f=Object(a.useState)(!1),g=Object(h.a)(f,2),b=g[0],v=g[1],j=Object(a.useState)(!1),y=Object(h.a)(j,2),x=y[0],O=y[1],S=Object(a.useState)(!1),K=Object(h.a)(S,2),Y=K[0],W=K[1],U=Object(a.useState)(""),q=Object(h.a)(U,2),F=q[0],X=q[1],M=Object(a.useState)(t.title),Q=Object(h.a)(M,2),Z=Q[0],V=Q[1],$=Object(a.useState)(t.author),ee=Object(h.a)($,2),te=ee[0],ne=ee[1],ae=function(){var e=Object(w.a)(m.a.mark((function e(){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,W(!1),O(!0),e.next=5,t.addSongByKey(F);case 5:n=e.sent,l.a.success("".concat(n.name," added to ").concat(t.title,".")),k.a.track("addNewSongByKeySuccess",{event_category:"playlist",event_label:"addNewSongByKeySuccess"}),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(0),W(!0),l.a.danger(e.t0.message),k.a.track("addNewSongByKeyFail",{event_category:"playlist",event_label:"addNewSongByKeyFail"});case 15:return e.prev=15,O(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[0,10,15,18]])})));return function(){return e.apply(this,arguments)}}();return Object(J.jsxs)(d.a,{display:"flex",flexDirection:"row",alignItems:"center",paddingBottom:"5px",children:[Object(J.jsx)(C.a,{src:t.image&&"data:image/png;"+t.image,name:t.title,size:50,onClick:function(){k.a.track("playlistImageChange",{event_category:"playlist",event_label:"playlistImageChange"}),function(e){var t=document.createElement("input");t.type="file",t.accept="image/*",t.multiple=!1,t.addEventListener("change",e),t.dispatchEvent(new MouseEvent("click"))}((function(e){var n="",a=new FileReader,i=e.target.files[0];a.readAsDataURL(i),a.onload=function(){n=a.result,t.image=n,l.a.success("Image saved and updated.")}}))}}),Object(J.jsx)(_.a,{margin:10,children:r?Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(P.a,{value:Z,width:"100px",onChange:function(e){return V(e.target.value)}})," ","-"," ",Object(J.jsx)(P.a,{value:te,width:"100px",onChange:function(e){return ne(e.target.value)}}),Object(J.jsx)(I.a,{content:"Save/Confirm",children:Object(J.jsx)(B.a,{icon:H.a,intent:"success",onClick:function(){k.a.track("playlistTitleAuthorUpdate",{event_category:"playlist",event_label:"playlistTitleAuthorUpdate"}),t.title=Z,t.author=te,s(!1)},marginLeft:"2px"})}),Object(J.jsx)(I.a,{content:"Discard Changes",children:Object(J.jsx)(B.a,{icon:A.a,intent:"danger",onClick:function(){V(t.title),ne(t.author),s(!1)},marginLeft:"2px"})})]}):Object(J.jsxs)(J.Fragment,{children:[t.title," - ",t.author]})}),Object(J.jsxs)("div",{style:{marginLeft:"auto",marginRight:0},children:[Object(J.jsx)(I.a,{content:"Edit Title & Author",children:Object(J.jsx)(B.a,{icon:T.a,onClick:function(){k.a.track("playlistEditToggle",{event_category:"playlist",event_label:"playlistEditToggle",value:!r}),s(!r)},marginLeft:"2px"})}),Object(J.jsx)(I.a,{content:"Create sharable import link",children:Object(J.jsx)(B.a,{icon:L.a,onClick:function(){k.a.track("playlistShareClicked",{event_category:"playlist",event_label:"playlistShareClicked"}),navigator.clipboard.writeText(t.sharableImportLink),l.a.success("Link copied to clipboard.")},marginLeft:"2px"})}),Object(J.jsx)(I.a,{content:"Download",children:Object(J.jsx)(B.a,{icon:D.a,marginLeft:"2px",onClick:function(){k.a.track("savePlaylst",{event_category:"playlist",event_label:"savePlaylst"}),function(e){var t=document.createElement("a");t.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(JSON.stringify(e.asBplistJson()))),t.setAttribute("download","".concat(e.title,"_").concat(e.id.substring(0,5),".bplist")),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)}(t)}})}),Object(J.jsx)(I.a,{content:"Delete",children:Object(J.jsx)(B.a,{icon:E.a,marginLeft:"2px",onClick:function(){k.a.track("deletePlaylist",{event_category:"playlist",event_label:"deletePlaylist"}),p(!0)}})}),Object(J.jsx)(I.a,{content:"Add new song",children:Object(J.jsx)(B.a,{icon:R.a,marginLeft:"2px",onClick:function(){k.a.track("addSongByKey",{event_category:"playlist",event_label:"addSongByKey"}),v(!0)}})})]}),Object(J.jsx)(z.a,{isShown:u,title:"Delete ".concat(t.title,"?"),onCloseComplete:function(){return p(!1)},onConfirm:function(){k.a.track("deletePlaylistConfirmation",{event_category:"playlist",event_label:"deletePlaylistConfirmation"}),t.delete(),l.a.success("".concat(t.title," deleted successfully.")),p(!1)},confirmLabel:"Confirm",intent:"danger",children:"This action is irreverisble!"}),Object(J.jsxs)(z.a,{shouldCloseOnOverlayClick:!1,isShown:b,title:"Add new song to ".concat(t.title),onCloseComplete:function(){return v(!1)},onConfirm:ae,confirmLabel:"Add",children:[x&&Object(J.jsx)(N.a,{}),Object(J.jsx)(G.a,{children:"Add the song key \ud83d\udd11 you want to add here:"}),Object(J.jsx)(P.a,{marginLeft:"10px",width:"80px",isInvalid:Y,value:F,onChange:function(e){return X(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&ae()}})]})]})})),W=n(237),U=n(227),q=n(218),F=n(246),X=function(e){var t=e.replace(/([A-Z])/g," $1");return t.charAt(0).toUpperCase()+t.slice(1)},M={Easy:{text:"EZ",color:"green"},Normal:{text:"N",color:"blue"},Hard:{text:"H",color:"yellow"},Expert:{text:"E",color:"red"},ExpertPlus:{text:"E+",color:"purple"}},Q=function(e,t){switch(e){case"difficulties":return Object.entries(t.difficulties).filter((function(e){var t=Object(h.a)(e,2);t[0];return t[1]})).map((function(e){var t=Object(h.a)(e,2),n=t[0];t[1];return n})).join(",")}if(e in t)return t[e]},Z=function(e){var t={flexBasis:150,flexGrow:0,flexShrink:0};return"description"===e?t={flexBasis:600,flexGrow:0,flexShrink:0}:"hash"===e?t={flexBasis:300,flexGrow:0,flexShrink:0}:"name"===e?t={flexBasis:200,flexGrow:0,flexShrink:0}:"uploadDate"===e?t={flexBasis:120,flexGrow:0,flexShrink:0}:"duration"===e?t={flexBasis:90,flexGrow:0,flexShrink:0}:"cover"===e?t={flexBasis:60,flexGrow:0,flexShrink:0}:["downloads","plays","upvotes","downvotes","rating","key"].includes(e)&&(t={flexBasis:72,flexGrow:0,flexShrink:0}),t},V=function(e,t){if("cover"===e)return Object(J.jsx)(W.a.Cell,Object(u.a)(Object(u.a)({},Z(e)),{},{children:Object(J.jsx)(C.a,{src:t.coverURL,size:40})}),e);if("difficulties"===e){var n=[];return Object.assign(n,t.difficulties),Object(J.jsx)(W.a.Cell,Object(u.a)(Object(u.a)({},Z(e)),{},{children:n.sort((function(e,t){var n=Object.keys(M);return n.indexOf(e.difficulty)-n.indexOf(t.difficulty)})).map((function(e){return function(e){var t=e.difficulty;if(t in M){var n="".concat(e.characteristic,":").concat(e.nps),a=M[t],i=a.text,r=a.color;return Object(J.jsx)(I.a,{content:n,position:q.a.TOP,children:Object(J.jsx)(F.a,{color:r,children:i},t)})}console.error("missing difficulty key: ",t)}(e)}))}),e)}return Object(J.jsx)(W.a.TextCell,Object(u.a)(Object(u.a)({},Z(e)),{},{children:Q(e,t)}),e)},$=function(e){switch(e){case"upvotes":return"\ud83d\udc4d";case"downvotes":return"\ud83d\udc4e";case"downloads":return"\ud83d\udcbe";case"plays":return"\u25b6\ufe0f";case"rating":return"\ud83d\udcaf";case"key":return"\ud83d\udd11";default:return X(e)}},ee=function(e){var t=e.idx,n=e.playlistId,i=e.song,r=e.onRemoveSongClick,s=Object(a.useContext)(x).getPlaylistColumnNamesToShow();return Object(J.jsx)(c.b,{draggableId:"".concat(n,"-").concat(i.id),index:t,children:function(e){return Object(J.jsx)(o.a,{children:function(){return Object(J.jsxs)(W.a.Row,Object(u.a)(Object(u.a)(Object(u.a)({isSelectable:!0,height:42,ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{children:[Object(J.jsx)(W.a.Cell,{flexBasis:40,flexGrow:0,flexShrink:0,children:Object(J.jsx)(U.a,{})}),s.map((function(e){return V(e,i)})),Object(J.jsx)(W.a.Cell,{flexBasis:35,flexGrow:0,flexShrink:0,marginRight:0,marginLeft:"auto",children:Object(J.jsx)(E.a,{onClick:function(){return r(i)}})})]}),i.id)}})}},i.id)},te=Object(o.b)((function(e){var t=e.playlist,n=Object(a.useContext)(x).getPlaylistColumnNamesToShow(),i=Object(a.useState)(null),r=Object(h.a)(i,2),s=r[0],d=r[1];return Object(J.jsxs)(W.a,{minWidth:"400px",overflowX:"scroll",children:[Object(J.jsxs)(W.a.Head,{height:42,children:[Object(J.jsx)(W.a.HeaderCell,{flexBasis:40,flexGrow:0}),n.map((function(e){return Object(J.jsx)(W.a.TextHeaderCell,Object(u.a)(Object(u.a)({},Z(e)),{},{children:$(e)}),e)})),Object(J.jsx)(W.a.HeaderCell,{flexBasis:35,flexGrow:0,flexShrink:0,marginRight:0,marginLeft:"auto"})]}),Object(J.jsx)(W.a.Body,{overflow:"visible",children:Object(J.jsx)(c.c,{droppableId:t.id,children:function(e,n){return Object(J.jsxs)("div",{ref:e.innerRef,style:{minHeight:"40px"},children:[Object(J.jsx)(o.a,{children:function(){return t.songs.map((function(e,n){return Object(J.jsx)(ee,{idx:n,playlistId:t.id,song:e,onRemoveSongClick:function(e){return d(e)}},e.id)}))}}),e.placeholder]})}},t.id)}),Object(J.jsx)(z.a,{isShown:!!s,title:"Delete ".concat(null===s||void 0===s?void 0:s.name," from ").concat(t.title,"?"),onCloseComplete:function(){return d(null)},onConfirm:function(){t.removeSong(s),d(null),l.a.success("".concat(s.name," deleted from ").concat(t.title,"."))},confirmLabel:"Confirm",intent:"danger",children:"This action is irreverisble!"})]})})),ne=Object(o.b)((function(e){var t=e.playlist,n=Object(a.useContext)(x);return Object(J.jsxs)(d.a,{style:{display:"flex",flexDirection:"column",padding:10,margin:10,minWidth:"400px",maxWidth:n.playlistHorizontalMode?"800px":"100%",borderRadius:15,backgroundColor:"white"},elevation:2,children:[Object(J.jsx)(Y,{playlist:t}),Object(J.jsx)(te,{playlist:t})]})})),ae=n(240),ie=n(60),re=n(40),se=function(){var e=Object(w.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://beatsaver.com/api/maps/hash/".concat(t));case 2:return e.abrupt("return",e.sent.json());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=Object(w.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://beatsaver.com/api/maps/id/".concat(t));case 2:return e.abrupt("return",e.sent.json());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ce=function(){var e=Object(w.a)(m.a.mark((function e(t,n){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="https://beatsaver.com/api/maps/".concat(n,"/").concat(t),"latest"===n&&(a="https://beatsaver.com/api/search/text/".concat(t,"?q=")),e.next=4,fetch(a);case 4:return e.abrupt("return",e.sent.json());case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),le=function(){var e=Object(w.a)(m.a.mark((function e(t,n){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://beatsaver.com/api/search/text/".concat(t,"?q=").concat(n));case 2:return e.abrupt("return",e.sent.json());case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ue=["plays","latest"],de=new(function(){function e(){var t=this;Object(p.a)(this,e),this._songsList=[],this._totalPages=5e3,this._page=0,this._search="",this._category=ue[0],this._loading=!1,this.fetchSongs=Object(w.a)(m.a.mark((function e(){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.loading=!0,e.prev=1,null===t.search||""===t.search){e.next=8;break}return e.next=5,le(t.page,t.search);case 5:n=e.sent,e.next=11;break;case 8:return e.next=10,ce(t.page,t.category);case 10:n=e.sent;case 11:e.next=16;break;case 13:throw e.prev=13,e.t0=e.catch(1),e.t0;case 16:t.songsList=n.docs,t.loading=!1;case 18:case"end":return e.stop()}}),e,null,[[1,13]])}))),Object(v.d)(this),this.fetchSongs()}return Object(f.a)(e,[{key:"songsList",get:function(){return this._songsList},set:function(e){this._songsList=e}},{key:"totalPages",get:function(){return this._totalPages},set:function(e){this._totalPages=e}},{key:"page",get:function(){return this._page},set:function(e){this._page=e}},{key:"loading",get:function(){return this._loading},set:function(e){this._loading=e}},{key:"category",get:function(){return this._category},set:function(e){e!==this._category&&(this.page=0),this._category=e}},{key:"search",get:function(){return this._search},set:function(e){e!==this._search&&(this.page=0),this._search=e}}]),e}()),he=Object(a.createContext)(de),pe=new(function(){function e(){var t;Object(p.a)(this,e),this.songCache=null,this.songCache=null!==(t=b.a.get("songCache"))&&void 0!==t?t:{}}return Object(f.a)(e,[{key:"manualAddSongData",value:function(e){this.songCache[e.id]=e,b.a.set("songCache",this.songCache)}},{key:"retrieveSongData",value:function(){var e=Object(w.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t in this.songCache){e.next=8;break}return e.next=3,oe(t);case 3:if(!(n=e.sent).error){e.next=6;break}return e.abrupt("return");case 6:this.songCache[t]=n,b.a.set("songCache",this.songCache);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"retrieveMultipleSongData",value:function(){var e=Object(w.a)(m.a.mark((function e(){var t,n,a,i,r,s,o,c,l,u,d,h,p,f,g,v,j=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=j.length>0&&void 0!==j[0]?j[0]:[],n=j.length>1?j[1]:void 0,a=j.length>2&&void 0!==j[2]?j[2]:500,i=[],r=[],s=Object(re.a)(t);try{for(s.s();!(o=s.n()).done;)(c=o.value)in this.songCache?i.push(new fe(c,this.songCache[c])):r.push(c)}catch(y){s.e(y)}finally{s.f()}l=0,u=r;case 8:if(!(l<u.length)){e.next=28;break}return d=u[l],e.prev=10,e.next=13,oe(d);case 13:if(!(h=e.sent).error){e.next=16;break}return e.abrupt("continue",25);case 16:this.songCache[d]=h,i.push(new fe(d,this.songCache[d])),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(10),console.error(e.t0);case 23:return e.next=25,new Promise((function(e){return setTimeout(e,a)}));case 25:l++,e.next=8;break;case 28:p=Object(re.a)(n),e.prev=29,p.s();case 31:if((f=p.n()).done){e.next=50;break}return g=f.value,e.prev=33,e.next=36,se(g);case 36:if(!(v=e.sent).error){e.next=39;break}return e.abrupt("continue",48);case 39:this.songCache[v.id]=v,i.push(new fe(v.id,this.songCache[v.id])),e.next=46;break;case 43:e.prev=43,e.t1=e.catch(33),console.error(e.t1);case 46:return e.next=48,new Promise((function(e){return setTimeout(e,a)}));case 48:e.next=31;break;case 50:e.next=55;break;case 52:e.prev=52,e.t2=e.catch(29),p.e(e.t2);case 55:return e.prev=55,p.f(),e.finish(55);case 58:return b.a.set("songCache",this.songCache),e.abrupt("return",i);case 60:case"end":return e.stop()}}),e,this,[[10,20],[29,52,55,58],[33,43]])})));return function(){return e.apply(this,arguments)}}()},{key:"getSongDataById",value:function(){var e=Object(w.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t in this.songCache){e.next=3;break}return e.next=3,this.retrieveSongData(t);case 3:return e.abrupt("return",this.songCache[t]);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}()),fe=function(){function e(t){var n=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Object(p.a)(this,e),this._id=null,this.beatSaverSongObject=void 0,Object(v.d)(this),this._id=t,null===a?pe.getSongDataById(this.id).then((function(e){n.beatSaverSongObject=e})):this.beatSaverSongObject=a}return Object(f.a)(e,[{key:"beatSaverSongObject",get:function(){return this._beatSaverSongObject},set:function(e){this._beatSaverSongObject=e}},{key:"id",get:function(){return this._id},set:function(e){this._id=e}},{key:"key",get:function(){return this.id}},{key:"hash",get:function(){var e;return null===(e=this.beatSaverSongObject)||void 0===e?void 0:e.versions[0].hash}},{key:"coverURL",get:function(){var e;return null===(e=this.beatSaverSongObject)||void 0===e?void 0:e.versions[0].coverURL}},{key:"previewURL",get:function(){var e;return null===(e=this.beatSaverSongObject)||void 0===e?void 0:e.versions[0].previewURL}},{key:"name",get:function(){var e;return null===(e=this.beatSaverSongObject)||void 0===e?void 0:e.metadata.songName}},{key:"songAuthor",get:function(){var e;return null===(e=this.beatSaverSongObject)||void 0===e?void 0:e.metadata.songAuthorName}},{key:"levelAuthor",get:function(){var e;return null===(e=this.beatSaverSongObject)||void 0===e?void 0:e.metadata.levelAuthorName}},{key:"difficulties",get:function(){return this.beatSaverSongObject?this.beatSaverSongObject.versions[0].diffs:[]}},{key:"description",get:function(){var e;return null===(e=this.beatSaverSongObject)||void 0===e?void 0:e.description}},{key:"duration",get:function(){var e,t=new Date(0),n=null===(e=this.beatSaverSongObject)||void 0===e?void 0:e.metadata.duration;return n?(t.setSeconds(n),t.toISOString().substr(14,5)):"?"}},{key:"downloads",get:function(){var e;return null===(e=this.beatSaverSongObject)||void 0===e?void 0:e.stats.downloads}},{key:"plays",get:function(){var e;return null===(e=this.beatSaverSongObject)||void 0===e?void 0:e.stats.plays}},{key:"upvotes",get:function(){var e;return null===(e=this.beatSaverSongObject)||void 0===e?void 0:e.stats.upvotes}},{key:"downvotes",get:function(){var e;return null===(e=this.beatSaverSongObject)||void 0===e?void 0:e.stats.downvotes}},{key:"rating",get:function(){var e,t;return Number.parseFloat(null!==(e=100*(null===(t=this.beatSaverSongObject)||void 0===t?void 0:t.stats.score))&&void 0!==e?e:0).toPrecision(2)}},{key:"uploadDate",get:function(){var e;return new Date(null===(e=this.beatSaverSongObject)||void 0===e?void 0:e.uploaded).toLocaleDateString()}},{key:"asJson",value:function(){return{id:this.id}}},{key:"asBplistJson",value:function(){var e,t,n;return{key:this.id,hash:this.hash,name:null===(e=this.beatSaverSongObject)||void 0===e?void 0:e.name,uploader:null===(t=this.beatSaverSongObject)||void 0===t?void 0:t.uploader.name,customData:null===(n=this.beatSaverSongObject)||void 0===n?void 0:n.customData}}}]),e}(),ge=function(){function e(t,n){Object(p.a)(this,e),this._id=null,this._image=null,this._title="",this._author="",this._songs=[],this.store=void 0,Object(v.d)(this),this._id=t.id,this._image=t.image,this._title=t.title,this._author=t.author,this._songs=t.songs.map((function(e){return new fe(e.id?e.id:e.key,null)})),this.store=n}return Object(f.a)(e,[{key:"id",get:function(){return this._id},set:function(e){this._id=e}},{key:"image",get:function(){return this._image},set:function(e){this._image=e,this.store.savePlaylist(this)}},{key:"title",get:function(){return this._title},set:function(e){this._title=e,this.store.savePlaylist(this)}},{key:"author",get:function(){return this._author},set:function(e){this._author=e,this.store.savePlaylist(this)}},{key:"songs",get:function(){return this._songs},set:function(e){this._songs=e,this.store.savePlaylist(this)}},{key:"sharableImportLink",get:function(){var e=this.asJson();return delete e.id,delete e.image,"".concat(window.location.origin+window.location.pathname,"#importPlaylistJson=").concat(Object(ie.a)(JSON.stringify(e)))}},{key:"delete",value:function(){this.store.deletePlaylist(this)}},{key:"removeSong",value:function(e){var t=this._songs.indexOf(e);this._songs.splice(t,1),this.store.savePlaylist(this)}},{key:"insertSong",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;void 0===t&&(t=this._songs.length),this._songs.splice(t,0,e)}},{key:"insertSongAtIdx",value:function(e,t){this._songs.splice(t,0,e),this.store.savePlaylist(this)}},{key:"addSongByHash",value:function(e){var t=this;se(e).then((function(e){console.log("here",e),t.songs.push(new fe(e.id,e))}))}},{key:"addSongByKey",value:function(){var e=Object(w.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,oe(t);case 3:n=e.sent,e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),Error("Could not retreive song with key: ".concat(t));case 9:if(!this._songs.find((function(e){return e.id===n.id}))){e.next=12;break}throw Error("Song already exists in playlist.");case 12:return pe.manualAddSongData(n),this.songs.push(new fe(n.id,n)),this.store.savePlaylist(this),e.abrupt("return",n);case 16:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"addSongBySongData",value:function(){var e=Object(w.a)(m.a.mark((function e(t){var n,a,i=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]?i[1]:void 0,a=t.id,void 0===n&&(n=this._songs.length),e.prev=3,!this._songs.find((function(e){return e.id===a}))){e.next=6;break}return e.abrupt("return");case 6:pe.manualAddSongData(t),this.insertSongAt(new fe(a,t),n),this.store.savePlaylist(this),e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(3),e.t0;case 14:case"end":return e.stop()}}),e,this,[[3,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"asJson",value:function(){return{id:this._id,image:this.image,title:this.title,author:this.author,songs:this.songs.map((function(e){return e.asJson()}))}}},{key:"asBplistJson",value:function(){return{image:this.image,playlistTitle:this.title,playlistAuthor:this.author,songs:this.songs.map((function(e){return e.asBplistJson()}))}}}]),e}(),be=new(function(){function e(){var t=this;Object(p.a)(this,e),this._playlists=[],this.addPlaylistFromBplistData=function(){var e=Object(w.a)(m.a.mark((function e(n){var a,i,r,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.songs.filter((function(e){return e.key})).map((function(e){return e.key})),i=n.songs.filter((function(e){return e.hash&&!e.key})).map((function(e){return e.hash})),e.next=4,pe.retrieveMultipleSongData(a,i);case 4:r=e.sent,s=new ge({id:t.getNewId(),image:n.image,title:n.playlistTitle,author:n.playlistAuthor,songs:r},t),t.appendPlaylistToTop(s);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Object(v.d)(this);var n=b.a.get("playlistIdsLUT");n&&n.length>0&&(this.playlists=n.map((function(e){var n=b.a.get(e);return new ge(n,t)})))}return Object(f.a)(e,[{key:"playlists",get:function(){return this._playlists},set:function(e){this._playlists=e}},{key:"playlistIds",get:function(){return this._playlistIds},set:function(e){this._playlistIds=e}},{key:"getNewId",value:function(){for(var e=this.playlists.map((function(e){return e.id})),t=Object(ae.a)();e.includes(t);)t=Object(ae.a)();return t}},{key:"createNewPlaylist",value:function(){var e=new ge({id:this.getNewId(),image:null,title:"New Playlist",author:"Beaterlist",songs:[]},this);return this.appendPlaylistToTop(e),e}},{key:"appendPlaylistToTop",value:function(e){this.playlists.splice(0,0,e),this.savePlaylist(e),this.savePlaylistLUT()}},{key:"deletePlaylist",value:function(e){var t=this._playlists.indexOf(e);this._playlists.splice(t,1),b.a.remove(e.id),this.savePlaylistLUT()}},{key:"movePlaylist",value:function(e,t){this.playlists.splice(this.playlists.indexOf(e),1),this.playlists.splice(t,0,e),this.savePlaylistLUT()}},{key:"savePlaylistLUT",value:function(){b.a.set("playlistIdsLUT",this.playlists.map((function(e){return e.id})))}},{key:"savePlaylist",value:function(e){var t=e.asJson();b.a.set(e.id,t)}},{key:"saveAllPlaylists",value:function(){var e=this._playlists.map((function(e){return e.asJson()}));b.a.set("playlists",e)}}]),e}()),ve=Object(a.createContext)(be),je="PLAYLIST",ye=Object(o.b)((function(e){var t=e.userPreferences,n=e.playlistStore,a=t.playlistHorizontalMode;return Object(J.jsx)("div",{style:{width:"100%",minWidth:"600px",height:"100vh"},children:Object(J.jsx)(c.c,{droppableId:je,type:je,direction:a?"horizontal":"vertical",children:function(e){return Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)("div",{ref:e.innerRef,style:{width:"100%",minWidth:"600px",height:"100vh",display:"flex",flexDirection:a?"row":"column",border:"default",overflowX:"scroll"},children:Object(J.jsx)(o.a,{children:function(){return n.playlists.map((function(e,t){return Object(J.jsx)(c.b,{draggableId:e.id,index:t,children:function(n){return Object(J.jsx)("div",Object(u.a)(Object(u.a)(Object(u.a)({ref:n.innerRef},n.draggableProps),n.dragHandleProps),{},{children:Object(J.jsx)(ne,{playlistKey:"".concat(e.title,"|").concat(t),playlist:e},"".concat(e.title,"|").concat(t))}))}},e.id)}))}})}),e.placeholder]})}})})})),xe=function(){var e=Object(a.useContext)(x),t=Object(a.useContext)(ve);return Object(J.jsx)(ye,{userPreferences:e,playlistStore:t})},Oe=n(230),me=n(231),we=n(244),Se=new(function(){function e(){var t=this;Object(p.a)(this,e),this._audioPlayer=new Audio,this._previewingSongFile=null,this._previewingSongHash=null,this._loading=!1,this._paused=!1,Object(v.d)(this),this._audioPlayer.onended=function(){return t.previewingSongHash=null}}return Object(f.a)(e,[{key:"previewingSongHash",get:function(){return this._previewingSongHash},set:function(e){this._previewingSongHash=e}},{key:"loading",get:function(){return this._loading},set:function(e){this._loading=e}},{key:"paused",get:function(){return this._paused},set:function(e){this._paused=e}},{key:"playSongSrc",value:function(e){this.paused=!1,this._audioPlayer.pause(),this._audioPlayer.currentTime=0,this._audioPlayer.src=e,this._audioPlayer.play()}},{key:"play",value:function(){this.paused=!1,this._audioPlayer.play()}},{key:"pause",value:function(){this.paused=!0,this._audioPlayer.pause()}}]),e}()),ke=n(228),Ce=n(229),_e=function(){var e=Object(w.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Se.paused||Se.pause(),Se.loading=!0,Se.previewingSongHash=t.hash,Se.playSongSrc(t.previewURL),Se.loading=!1;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Pe=function(e){return Se.previewingSongHash!==e.hash?ke.a:Se.loading?void 0:Se.paused?ke.a:Ce.a},Ie=Object(o.b)((function(e){var t=e.songData;return Object(J.jsx)(B.a,{intent:Se.previewingSongHash===t.hash?"success":void 0,isLoading:Se.previewingSongHash===t.hash&&Se.loading,icon:Pe(t),size:"small",onClick:function(){return function(e){return Se.previewingSongHash!==e.hash?(k.a.track("pressPreviewSongButton",{event_category:"beatSaverBrowser",event_label:"pressPreviewSongButton"}),void _e(e)):Se.paused?(Se.play(),void k.a.track("pressPlaySong",{event_category:"beatSaverBrowser",event_label:"pressPlaySong"})):(k.a.track("pressPauseSong",{event_category:"beatSaverBrowser",event_label:"pressPauseSong"}),void Se.pause())}(t)}})})),Be="BEAT_SAVER_BROWSER",He=Object(o.b)((function(){var e=Object(a.useContext)(he),t=Object(a.useContext)(x).getPlaylistColumnNamesToShow();return Object(J.jsxs)(d.a,{minWidth:"400px",maxWidth:"calc(50% - 250px)",height:"100vh",paddingLeft:"20px",paddingRight:"20px",backgroundColor:"white",overflowY:"scroll",children:[Object(J.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(J.jsx)(_.a,{marginTop:"10px",marginBottom:"10px",children:"BeatSaver Browser"}),e.loading&&Object(J.jsx)(N.a,{marginLeft:"auto",marginRight:"0px"})]}),Object(J.jsx)(G.a,{children:"Drag songs from here to your playlists to add songs directly. Currently, you can only either filter by category, or do a search, but not with each other."}),Object(J.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:Object(J.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",marginBottom:10,marginTop:10},children:[Object(J.jsx)(Oe.a,{width:"100px",marginRight:"30px",value:e.category,onChange:function(t){e.search="",e.category=t.target.value,e.fetchSongs()},children:ue.map((function(e){return Object(J.jsx)("option",{value:e,children:e.toLocaleUpperCase()},e)}))}),Object(J.jsx)(me.a,{placeholder:"Search...",onChange:function(t){e.search=t.target.value},value:e.search,onKeyPress:function(t){if("Enter"===t.key)try{e.fetchSongs()}catch(n){l.a.danger("An error has occured.")}}})]})}),Object(J.jsxs)(W.a,{minWidth:"400px",overflowX:"scroll",children:[Object(J.jsxs)(W.a.Head,{height:42,children:[Object(J.jsx)(W.a.HeaderCell,{flexBasis:40,flexGrow:0}),t.map((function(e){return Object(J.jsx)(W.a.TextHeaderCell,Object(u.a)(Object(u.a)({},Z(e)),{},{children:$(e)}),e)}))]}),Object(J.jsx)(c.c,{droppableId:Be,isDropDisabled:!0,children:function(n,a){return Object(J.jsxs)(W.a.Body,{overflow:"visible",display:"flex",flexDirection:"column",ref:n.innerRef,children:[Object(J.jsx)(o.a,{children:function(){return e.songsList.map((function(e,n){return Object(J.jsx)(c.b,{draggableId:"browser-".concat(e.id),index:n,children:function(n,a){return Object(J.jsxs)(W.a.Row,Object(u.a)(Object(u.a)(Object(u.a)({height:40,ref:n.innerRef},n.draggableProps),n.dragHandleProps),{},{children:[Object(J.jsx)(W.a.Cell,{flexBasis:40,flexGrow:0,flexShrink:0,children:Object(J.jsx)(Ie,{songData:new fe(e.id,e)})}),t.map((function(t){return V(t,new fe(e.id,e))}))]}),e.id)}},e.id)}))}}),n.placeholder]})}})]}),Object(J.jsx)(we.a,{page:e.page+1,totalPages:e.totalPages+1,onPageChange:function(t){e.page=t-1,e.fetchSongs()}})]})}));function Ae(){"https:"===window.location.protocol?window.history.pushState("",document.title,window.location.pathname+window.location.search):window.location.hash=""}if(window.location.hash.includes("#importPlaylistJson=")){var Te=Object(ie.b)(decodeURIComponent(window.location.hash.substr("#importPlaylistJson=".length,window.location.hash.length))),Le=JSON.parse(Te);Object.keys(Le).includes("title","author","songs")&&(K=Le)}var De=Object(o.b)((function(){var e,t,n=Object(a.useContext)(ve),i=Object(a.useState)(!1),r=Object(h.a)(i,2),s=r[0],o=r[1],c=Object(a.useState)(null),u=Object(h.a)(c,2),d=u[0],p=u[1],f=Object(a.useState)(!!K),g=Object(h.a)(f,2),b=g[0],v=g[1];return Object(a.useEffect)((function(){(function(){var e=Object(w.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!K){e.next=7;break}return o(!0),e.next=4,pe.retrieveMultipleSongData(K.songs.map((function(e){return e.id})));case 4:o(!1),k.a.track("playlistDeepImporterOpened",{event_category:"playlistDeeplink",event_label:"playlistDeepImporterOpened"}),p(new ge(K,n));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[n]),Object(J.jsxs)(z.a,{shouldCloseOnOverlayClick:!1,isShown:b,title:Object(J.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:"Add Playlist ".concat(null===(e=K)||void 0===e?void 0:e.title," from ").concat(null===(t=K)||void 0===t?void 0:t.author,"?")}),onCloseComplete:function(){v(!1),Ae()},isConfirmDisabled:s,onConfirm:Object(w.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k.a.track("playlistDeepImporterConfirmPressed",{event_category:"playlistDeeplink",event_label:"playlistDeepImporterConfirmPressed"}),d.id=n.getNewId(),n.appendPlaylistToTop(d),v(!1),Ae(),l.a.success("Playlist ".concat(d.title," imported succesfully."));case 6:case"end":return e.stop()}}),e)}))),children:[Object(J.jsxs)(W.a,{maxHeight:"450px",overflowY:"scroll",children:[Object(J.jsxs)(W.a.Head,{height:42,children:[Object(J.jsx)(W.a.TextHeaderCell,{flexGrow:0,flexShrink:0,flexBasis:40,children:"Cover"}),Object(J.jsx)(W.a.TextHeaderCell,{children:"Name"}),Object(J.jsx)(W.a.TextHeaderCell,{flexGrow:0,flexShrink:0,flexBasis:130,children:"Song Author"}),Object(J.jsx)(W.a.TextHeaderCell,{flexGrow:0,flexShrink:0,flexBasis:130,children:"Level Author"})]}),Object(J.jsx)(W.a.Body,{children:null===d||void 0===d?void 0:d.songs.map((function(e){return Object(J.jsxs)(W.a.Row,{height:42,children:[Object(J.jsx)(W.a.Cell,{flexGrow:0,flexShrink:0,flexBasis:60,children:Object(J.jsx)(C.a,{src:e.coverURL,size:40})}),Object(J.jsx)(W.a.TextCell,{children:e.name}),Object(J.jsx)(W.a.TextCell,{flexGrow:0,flexShrink:0,flexBasis:130,children:e.songAuthor}),Object(J.jsx)(W.a.TextCell,{flexGrow:0,flexShrink:0,flexBasis:130,children:e.levelAuthor})]})}))})]}),s&&Object(J.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center"},children:[Object(J.jsx)(N.a,{size:30,marginRight:"5px"})," ",Object(J.jsx)(G.a,{alignSelf:"center",children:"loading songs...please wait.."})]})]})})),Ee=n(38),Re=n(232),ze=n(233),Ne=n(234),Ge=n(235),Je=n(91),Ke=n(92),Ye=n.n(Ke),We=n(93),Ue=Object(o.b)((function(e){var t=e.onImportClick,n=Object(We.a)(e,["onImportClick"]);return Object(J.jsx)(Ee.a,Object(u.a)(Object(u.a)({onClick:function(){var e=document.createElement("input");e.setAttribute("type","file"),e.setAttribute("multiple",!0),e.setAttribute("accept",".bplist,.json"),e.addEventListener("change",function(){var e=Object(w.a)(m.a.mark((function e(n){var a,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object.values(n.target.files),e.next=3,Promise.all(a.map(function(){var e=Object(w.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t.name.split(".")[1],e.t1=JSON,e.next=4,t.text();case 4:return e.t2=e.sent,e.t3=e.t1.parse.call(e.t1,e.t2),e.abrupt("return",{type:e.t0,data:e.t3});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:i=e.sent,t(i);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.style.display="none",document.body.appendChild(e),e.click(),document.body.removeChild(e)}},n),{},{children:"Import playlist(s)"}))})),qe="custom_level_",Fe=Object(o.b)((function(e){var t=e.jsonFile,n=Object(a.useContext)(ve),i=Object(a.useState)(!1),r=Object(h.a)(i,2),s=r[0],o=r[1];return Object(J.jsx)("div",{children:t.localPlayers.map((function(e,t){return Object(J.jsxs)(d.a,{padding:"20px",display:"flex",flexDirection:"column",border:"default",borderRadius:"5px",children:[Object(J.jsxs)(G.a,{children:["ID: ",e.playerId," | Name: ",e.playerName]}),Object(J.jsx)(Ee.a,{marginTop:"10px",marginBottom:"10px",isLoading:s,onClick:Object(w.a)(m.a.mark((function t(){var a,i;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o(!0),(a=n.createNewPlaylist()).title="Favourites",i=e.favoritesLevelIds.filter((function(e){return e.includes(qe)})).map((function(e){return e.substring(qe.length,e.length)})),t.next=6,pe.retrieveMultipleSongData([],i);case 6:t.sent.forEach((function(e){return a.insertSong(e)})),n.savePlaylist(a),o(!1),l.a.success("Favourites loaded into playlist successfully.");case 11:case"end":return t.stop()}}),t)}))),children:"Import favourite levels into playlist"})]},t)}))})})),Xe=Object(o.b)((function(){var e=Object(a.useContext)(x),t=e.playlistHorizontalMode,n=e.playlistColumnsToShow,i=Object(a.useContext)(ve),r=Object(a.useState)(!1),s=Object(h.a)(r,2),o=s[0],c=s[1],u=Object(a.useState)(!1),d=Object(h.a)(u,2),p=d[0],f=d[1],g=Object(a.useState)(null),b=Object(h.a)(g,2),v=b[0],j=b[1],y=Object(a.useState)(!1),O=Object(h.a)(y,2),S=O[0],C=O[1];return Object(J.jsxs)("div",{style:{backgroundColor:"white",height:"calc(100vh - 100px)",overflowY:"scroll"},children:[Object(J.jsxs)("div",{style:{display:"flex",flexDirection:"column",paddingTop:20,paddingBottom:20,paddingLeft:20,paddingRight:20},children:[Object(J.jsx)(Ee.a,{onClick:function(){k.a.track("showBeatSaverBrowser",{event_category:"sidebarConfig",event_label:"showBeatSaverBrowser",value:!e.showBeatSaverBrowser}),e.showBeatSaverBrowser=!e.showBeatSaverBrowser},marginBottom:"10px",children:e.showBeatSaverBrowser?Object(J.jsxs)(J.Fragment,{children:["Hide BeatSaver browser",Object(J.jsx)(Re.a,{})]}):Object(J.jsxs)(J.Fragment,{children:["Show BeatSaver browser",Object(J.jsx)(ze.a,{})]})}),Object(J.jsx)(Ee.a,{onClick:function(){k.a.track("createNewPlaylist",{event_category:"sidebarConfig",event_label:"createNewPlaylist"}),i.createNewPlaylist(),l.a.success("New Playlist created.")},marginBottom:"10px",children:"Add new playlist"}),Object(J.jsx)(Ue,{isLoading:o,marginBottom:"10px",onImportClick:function(){var e=Object(w.a)(m.a.mark((function e(t){var n,a,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k.a.track("importPlaylists",{event_category:"sidebarConfig",event_label:"importPlaylists",value:t.length}),c(!0),n=Object(re.a)(t),e.prev=3,n.s();case 5:if((a=n.n()).done){e.next=11;break}return r=a.value,e.next=9,i.addPlaylistFromBplistData(r.data);case 9:e.next=5;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),n.e(e.t0);case 16:return e.prev=16,n.f(),e.finish(16);case 19:c(!1),l.a.success("Successfully imported ".concat(t.length," playlist").concat(1===t.length?"":"s","."));case 21:case"end":return e.stop()}}),e,null,[[3,13,16,19]])})));return function(t){return e.apply(this,arguments)}}()}),Object(J.jsx)(Ee.a,{isLoading:p,onClick:Object(w.a)(m.a.mark((function e(){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k.a.track("exportPlaylists",{event_category:"sidebarConfig",event_label:"exportPlaylists"}),f(!0),t=new Ye.a,i.playlists.forEach((function(e,n){t.file("".concat(e.title,"_").concat(e.id.substring(0,5),".bplist"),JSON.stringify(e.asBplistJson()))})),e.next=6,t.generateAsync({type:"blob"});case 6:n=e.sent,Object(Je.saveAs)(n,"beaterlist-".concat((new Date).toLocaleDateString(),".zip")),f(!1);case 9:case"end":return e.stop()}}),e)}))),marginBottom:"10px",children:"Export all playlists"})]}),Object(J.jsxs)("div",{style:{paddingLeft:20,paddingRight:20},children:[Object(J.jsx)(_.a,{children:"Playlists Config"}),Object(J.jsx)(Ne.a,{label:"Horizontal Mode",checked:t,onChange:function(t){k.a.track("toggleHorizontalMode",{event_category:"sidebarConfig",event_label:"toggleHorizontalMode",value:t.target.checked}),e.playlistHorizontalMode=t.target.checked}}),Object(J.jsx)(_.a,{children:"Columns To Show"}),Object.keys(e.playlistColumnsToShow).map((function(t){return Object(J.jsx)(Ne.a,{label:X(t),checked:n[t],onChange:function(a){k.a.track("columnsToShow",{event_category:"sidebarConfig",event_label:"columnsToShow",value:JSON.stringify(n)}),e.setPlaylistColumnToShow(t,a.target.checked)}},t)})),Object(J.jsx)(_.a,{children:"Advanced"}),Object(J.jsx)("div",{style:{marginTop:10},children:Object(J.jsx)(Ee.a,{onClick:function(){k.a.track("importPlayerDataButton",{event_category:"sidebarConfig",event_label:"importPlayerDataButton"}),C(!0)},marginBottom:"10px",children:"Import PlayerData.dat file"})}),Object(J.jsxs)(z.a,{hasFooter:!1,isShown:S,onCloseComplete:function(){C(!1),j(null)},title:"Import PlayerData.dat",children:[Object(J.jsx)(G.a,{children:"You can import your PlayerData.dat file from your AppData folder (or from Quest app folder) and then do certain actions with it."}),Object(J.jsx)(Ge.a,{marginTop:"10px",marginBottom:"10px",accept:".dat",onChange:function(){var e=Object(w.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t.length){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,j(null),e.t0=j,e.t1=JSON,e.next=8,t[0].text();case 8:e.t2=e.sent,e.t3=e.t1.parse.call(e.t1,e.t2),(0,e.t0)(e.t3),e.next=17;break;case 13:e.prev=13,e.t4=e.catch(2),console.error(e.t4),l.a.danger("Could not parse .dat file. Is the file valid?");case 17:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}()}),v&&Object(J.jsx)(Fe,{jsonFile:v})]})]})]})})),Me=n(236),Qe=n(247),Ze=n(198),Ve=Object(o.b)((function(){var e=Object(a.useState)(!1),t=Object(h.a)(e,2),n=t[0],i=t[1];return Object(J.jsxs)(d.a,{width:"100%",height:"100px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",paddingLeft:"20px",paddingRight:"20px",paddingTop:"10px",paddingBottom:"10px",background:"linear-gradient(45deg, #f03030 0%, #309eff 80%)",children:[Object(J.jsxs)(_.a,{color:"white",size:900,children:["BeaterList"," ",Object(J.jsx)(Me.a,{color:"white",onClick:function(){k.a.track("toggleHelp",{event_category:"sidebarConfig",event_label:"toggleHelp",value:!n}),i(!n)}})]}),Object(J.jsxs)(G.a,{color:"white",children:["by"," ",Object(J.jsx)("a",{href:"https://zexuan.xyz/projects/#beaterlist",rel:"noopener noreferrer",target:"blank",style:{color:"white"},children:"zexurge"})]}),Object(J.jsx)(Qe.a,{isShown:n,onCloseComplete:function(){k.a.track("closeHelp",{event_category:"sidebarConfig",event_label:"closeHelp"}),i(!1)},children:Object(J.jsxs)(d.a,{margin:40,children:[Object(J.jsx)(_.a,{children:"Things to know"}),Object(J.jsx)(Ze.a,{marginTop:10,children:"UPDATE: Due to BeatSaver's new API changes, you WILL need to clear your browser cache/application data in order to ... crashing. Apologies for the inconvenience."}),Object(J.jsx)(Ze.a,{marginTop:10,children:"Any changes you make will be saved automatically, so you don't have to worry about losing data when refreshing. (if it happens, let me know so I can fix the bug)"}),Object(J.jsx)(Ze.a,{marginTop:10,children:"ALL of the data here is stored locally in your browser. This means that if there are any updates to this site, or if you are using incognito mode, or clear the browser data, ALL of the data will be lost!"}),Object(J.jsx)(Ze.a,{marginTop:10,children:"If you run into issues (crashing/white out) when importing multiple playlists, try importing them in smaller batches. Clear the browser data to resolve the issue. BeatSaver APIs need to be rate limited so we can't retrieve too much data too quickly from them :("}),Object(J.jsx)(Ze.a,{marginTop:10,children:"So, do backup your data often :)"}),Object(J.jsx)(_.a,{marginTop:20,children:"How to use"}),Object(J.jsx)(Ze.a,{marginTop:10,children:"You can start by creating an empty playlist on the sidebar on the left, or import existing .bplist files or .json files from your Playlists folder to load your playlists."}),Object(J.jsx)(Ze.a,{marginTop:10,children:"You can then start to add new songs (by key) to the playlists directly, re-order them by drag-and-dropping them around. The songs can also be moved between playlists."}),Object(J.jsx)(Ze.a,{marginTop:10,children:"You can also reorder the playlists themselves by dragging them (though the d-n-d UI is still a bit buggy for now)."}),Object(J.jsx)(_.a,{marginTop:20,children:"BeatSaver browser"}),Object(J.jsx)(Ze.a,{marginTop:10,children:"I have integrated a BeatSaver browser here, so you can browse for songs here and drag-and-drop them directly to your playlists! I have also setup a simple preview song functionality so you can quickly find and add songs you like."}),Object(J.jsx)(_.a,{marginTop:20,children:"Exporting playlists"}),Object(J.jsx)(Ze.a,{marginTop:10,children:"You can download each playlist individually by clicking the save icon at the top of each playlist. Or, just export them all in a .zip file using the 'Export all playlists' button."}),Object(J.jsx)(Ze.a,{marginTop:10,children:"You can then just dump the files into the Playlists folder, and refresh the playlists in game, or import them individually using ModAssistant (or via BMBF/Playlist Editor Pro for Quest)"})]})})]})})),$e=Object(o.b)((function(){var e=Object(a.useContext)(x);return Object(J.jsxs)("div",{style:{width:"100%",height:"100vh",display:"flex",flexDirection:"column",alignItems:"center",border:"default",background:"url(".concat("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAKsUExURX+cspK57JjC/oms0W+Gg2+GhISkwZnD/5O67oepzHWOlYWmxJjA+nuWpnGHh3aPl3+etHSOk5fB+5W99Ianx36br3uWpY604JjB/HuXpnCHhnuXqJG46ZG353uWpIirzoyx2pa/+JjC/ZW983KJi3WNko6z33CGhXaPmHeQmoyv2HOLjH+csYCft32brYCftneRm3WQlo+14nSLjnKKjZa/95C25ZO67XiSnISlw4+04pfA+pa+9oSjv3GJinqWpZa/9o2y3XWPlnCHhXaQmJC15JS88Yqt04qt1HuXp3WOloOjv3WNlJS88HKLjoGgunSNkXeRmpW98oSkwJO773WOlH6brXqWpH2arpC25nGJiYKguZW+9XiSnYyw2YGguHePmIKivXGIiXqVoXGGhoepy5S88pK564KivIiqznqVpHKIiXyYq5a/+Y+145S78IiqzXCHh5fA+Yuv13aQl36bsIirz3mToJK67YeqzHKKjHyYqn2cr4yw2HqUoXeSnG+GhZO674CftX+dtIKhu3SMkYOivYeoyYiqzIWmxYWlw3GGhXyYqYuu1nOKjHmUoIGfuJO57IanxnOMjpK46niSm3OLjniTnXiRm3eRmHGHhX2Zq4amx4anyH2arXSNkomrz3SLkHOMkICetX+ds4+04H2arICetIeqzXmUoYWlxHaOlXSNk4+04XiTno6z4JbA+ZS78Yqu1Y604XSNlHKLjHyZq2+HhXmTnnCFg3+dsniTn4+15JC35nOLj3eRnJG36Iipy5K56oCds3yYqIWlwnmVope/+IOivpG46I2y3naQmoipzX2YqoWmxn6cr3KKi5G35n+bsJG46pfC/HyZqo604oGftnuWo4qt0neQmXWPlYWlxXaQmY+z4HOJjJK67ISlxHGHhnqVo7pn+o0AAAAJcEhZcwAADsMAAA7DAcdvqGQAAAXZSURBVHhe7dz7X9NVHMfxL99dzhgBOmaNEGqMuIlB1FgwzEsiVJhRCFJA4tSRlWx01QpNRQtFK+nqjYhKirTSkqjM7F52v99v/0jf73aAwbZ+OufDOY/H5/XT9j0/PR/7bo/vw4e8FSVBNRhNZkJUImGWRGvSWckpqTNmKgk2kmY3zrLRE7nSHGef41DTU87NUGaTzKzzzndm0yOpciVacy7IdRI1PS9fKSjMmlMk531FLHMvLC65qFSXpCgpF19SRK9LlltVyzzupEvDEiU9bwY9kCy3obzClk28VKKodnogW5XzLptv1r7bVKLQy7K1QCULF12+eH7VEiqRFOKprlHVxLwrMq68qiIk8cgJ8dhrzUvI0uKra5ZdU2e41pt0nZy3Vn3i8oZSByHVjSuaSq433VCovZYR0mywtrTaSCUhN+bXrWxsW6X/XskIUat9q9es9bff5HCsu/mWW+vX6xflg1R2FLoDvqC5eOYKd+dtt9+h3VZ60kHq76xLvevuDT7Txnu0593Se5ffF74uG6Q+YO3qWrmpOeDbXH4/ydyydRs9kAziyMzv3r52W+qOzgd8wcDCrDkP0gPpPhFPz85dvbm79zz08CO+vJK9E8+70n1H+np2dj362ONPPJlr9wUjnnelg+iSp5KdO/ILXIHx+0pLPogu2dfr3BXcT394w0kICUkOHDzUT9+GkxGiS54eeIa+oUkJ0SWD9OVYckJIXyt9MZ6kkOgQIloIES2EiBZCRAshooUQ0UKIaCFEtBAiWggRLYSIFkJECyGihRDRQohoIUS0ECJaCBEthIgWQkQLIaKFENFCiGghRLSmBeLxT/oPokyaDojHXvssfcmuaYBojucqmP8lKjxEc2x+3knfsAsc4j1cMpQffIH5lwQa4k5rnVdazUECDLEY9gyWe0kvewkspLL/xdSc4ZcIBwksxFVyJLC+Rn/FXAIJ6fAmHFx19OWmV149poYkLH+DASEd9n3N9kV7248PvDZUrku20gMmAUI6Xz8x0tzT+MbIaNuhAjshZfQ6myBvLdebmuSto1Wq9+2TGR30IqugIG59VSIkId5j/qp3Ck6FrzMLCOLZ/+4CjRKSnN7S3bL7PdZzGUCQzPeDH4xLyj8cHv2I9VMjCETNdva2REhON6lSPv26+j5e88m4pOXESCc9YBkAxNK/uHtgqIxKLJ9+NkoPmMYfYjlj/fyLL79K9ockX2d98y09YBt3iNNvNQ16v/t++AeHJvnxp42cdnF4Qzz2nzcYTeaEZce3a0+KLcGcqX8/yCrOEMuB2oZmg9G0zrr6l1mnOnqPzKUHzOMLqT/8a0OpjRiMxuHfUk/+nvwH2+eryLhCHK3WP2tsxD9b+0za/vq78Z8ifjNePCGWwqX/phQk+NsbdYnZnRbolBISuQ/Hf+eOHyRiHw5i544bJHIfDmLnjhskch8OYueOE2TyPhzEzh0fyJR9OIidOz6QKftwEDt3PCDaw/rkfTh6nWscINH7cPSAa+whMfbhIGIOibUPBxFrSMx9OIhYQ2Luw0HEFhJnHw4ippB4+3AQsYTE3YeDiCEk/j4cRCw/kbj7cBAx/Y70xdmHg4gpRJfE2oeDiC0ktKoWvQ8HEWNISBK1DwcRa4guidqHg4g5RJfw+vfd/4s9JMY+HEQcINMTQkQLIaKFENFCiGghRLQQIloIES2EiBZCRAshooUQ0UKIaCFEtBAiWggRLYSIFkJECyGihRDRQohoIUS0ECJaCBEthIhWFITHPhxEUyFc9uEgmgLhsw8H0WQIp304iCZBeO3DQRQJ4bYPB1EEhN8+HEQTEI77cBBNQDjuw0E0BuG6DwcRhfDdh4OIQvjuw0E0dmtx3YeDSIdw34eDSIPw34eDSIPw34eDSIHYh4NIgdiHA8ilQOzD8c/Sr0Dsw3HPcsaqQOzD8U7fuVMg9uE4F9q5UyD24fgW3rlTIPbhuEZ37hSIfTieje3cKRD7cByjO3f+9v8AaHH23rXZpzsAAAAASUVORK5CYII=",")"),backgroundRepeat:"repeat",backgroundSize:"200px 200px"},children:[Object(J.jsx)(De,{}),Object(J.jsxs)("div",{style:{width:"100%",flexDirection:"row",display:"flex"},children:[Object(J.jsxs)("div",{style:{minWidth:250},children:[Object(J.jsx)(Ve,{}),Object(J.jsx)(Xe,{})]}),Object(J.jsxs)(c.a,{onDragEnd:function(e){try{!function(e){var t=e.destination,n=e.source;if(t&&n){var a=t.index,i=n.index;if(t.droppableId!==n.droppableId||a!==i){if(n.droppableId===Be){var r=be.playlists.find((function(e){return e.id===t.droppableId})),s=de.songsList[n.index];if(r.songs.find((function(e){return e.id===s.id})))throw Error("Song already exists in this playlist.");return k.a.track("addSongFromBrowserToPlaylist",{event_category:"beatSaverBrowser",event_label:"addSongFromBrowserToPlaylist"}),r.addSongBySongData(s,a),void be.savePlaylist(r)}if(n.droppableId===je&&t.droppableId===je){var o=be.playlists[n.index];return be.movePlaylist(o,t.index),void k.a.track("reorderingPlaylists",{event_category:"playlist",event_label:"reorderingPlaylists"})}var c=be.playlists.find((function(e){return e.id===n.droppableId}));if(t.droppableId===n.droppableId){var l=c.songs[i];c.removeSong(l),c.insertSongAtIdx(l,a),be.savePlaylist(c),k.a.track("reorderingSongsWithinPlaylist",{event_category:"playlist",event_label:"reorderingSongsWithinPlaylist"})}else{var u=be.playlists.find((function(e){return e.id===t.droppableId})),d=c.songs[i];if(u.songs.find((function(e){return e.id===d.id})))throw Error("Song already exists in this playlist.");c.removeSong(d),u.insertSongAtIdx(d,a),be.savePlaylist(c),be.savePlaylist(u),k.a.track("reorderingSongsAcrossPlaylist",{event_category:"playlist",event_label:"reorderingSongsAcrossPlaylist"})}}}}(e)}catch(t){console.error(t),l.a.danger(t.message)}},children:[e.showBeatSaverBrowser&&Object(J.jsx)(He,{}),Object(J.jsx)(xe,{})]})]})]})})),et=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,248)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),i(e),r(e),s(e)}))};k.a.init("00d006716755a1937b5d466c60b20f57"),s.a.render(Object(J.jsx)(i.a.StrictMode,{children:Object(J.jsx)(ve.Provider,{value:be,children:Object(J.jsx)(he.Provider,{value:de,children:Object(J.jsx)(x.Provider,{value:y,children:Object(J.jsx)($e,{})})})})}),document.getElementById("root")),et()}},[[194,1,2]]]);
//# sourceMappingURL=main.a3a75b42.chunk.js.map